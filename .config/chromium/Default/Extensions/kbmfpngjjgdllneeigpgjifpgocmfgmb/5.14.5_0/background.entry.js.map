{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/fromPairs.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./images/css-off.png","webpack:///./images/css-off-small.png","webpack:///./images/css-on.png","webpack:///./images/css-on-small.png","webpack:///./node_modules/lodash/pull.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/curryRight.js","webpack:///./node_modules/lodash/remove.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/pullAll.js","webpack:///./node_modules/lodash/_basePullAll.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_baseIndexOfWith.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_basePullAt.js","webpack:///./node_modules/lodash/_baseUnset.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/last.js","webpack:///./node_modules/lodash/_parent.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/utils/api.js","webpack:///./lib/environment/background/messaging.js","webpack:///./lib/environment/background/ajax.js","webpack:///./lib/environment/background/auth.js","webpack:///./lib/environment/background/download.js","webpack:///./lib/environment/background/history.js","webpack:///./locales/locales/index.js","webpack:///./locales/index.js","webpack:///./lib/environment/background/i18n.js","webpack:///./lib/environment/background/localePersistor.js","webpack:///./lib/environment/background/migration.js","webpack:///./lib/environment/background/multicast.js","webpack:///./lib/environment/background/pageAction.js","webpack:///./lib/environment/background/permissions.js","webpack:///./lib/environment/background/session.js","webpack:///./lib/utils/generator.js","webpack:///./lib/utils/async.js","webpack:///./lib/environment/background/storage.js","webpack:///./lib/environment/background/tabs.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/environment/background/xhrCache.js","webpack:///./lib/environment/background/messaging.js?d97e"],"names":["freeGlobal","require","freeSelf","self","Object","root","Function","module","exports","baseCreate","isObject","createCtor","Ctor","args","arguments","length","thisBinding","prototype","result","apply","func","thisArg","call","value","type","identity","copyArray","source","array","index","Array","composeArgs","composeArgsRight","countHolders","createRecurry","getHolder","reorder","replaceHolders","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","createHybrid","bitmask","partials","holders","partialsRight","holdersRight","argPos","ary","arity","isBindKey","isCurried","undefined","wrapper","placeholder","holdersCount","newHolders","fn","reverse","isLaziable","setData","setWrapToString","WRAP_CURRY_BOUND_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","newData","noop","MAX_SAFE_INTEGER","reIsUint","isIndex","test","stubArray","isArray","isKey","stringToPath","toString","castPath","object","fromPairs","pairs","pair","baseAssignValue","baseForOwn","baseIteratee","mapValues","iteratee","key","baseRest","pullAll","pull","now","toNumber","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","createWrap","curryRight","guard","basePullAt","remove","predicate","indexes","push","defineProperty","getNative","e","getValue","baseFor","keys","createBaseFor","fromRight","keysFunc","iterable","props","overArg","nativeKeys","transform","arg","overRest","setToString","start","otherArgs","basePullAll","values","arrayMap","baseIndexOf","baseIndexOfWith","baseUnary","arrayProto","splice","comparator","indexOf","seen","fromIndex","computed","strictIndexOf","Date","global","baseSetData","createBind","createCurry","createPartial","getData","mergeData","toInteger","data","setter","objectCreate","create","proto","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","holdersIndex","rightIndex","rightLength","offset","stubFalse","arrLength","oldArray","baseUnset","lastIndex","previous","last","parent","toKey","path","isSymbol","reIsDeepProp","reIsPlainProp","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","replace","match","number","quote","subString","baseGet","baseSlice","end","MessageHandlerError","Error","constructor","message","stack","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","sendResponse","context","listener","get","error","response","console","Promise","then","sendMessage","addListener","callback","has","set","apiToPromise","resolve","reject","results","chrome","runtime","lastError","tabs","obj","tabId","onMessage","sender","tab","method","url","headers","credentials","rawResponse","fetch","body","ok","status","from","entries","text","domain","clientId","scope","interactive","currentIndex","redirectUri","URL","searchParams","emulateAuthFlowInNewWindow","href","emulateAuthFlowInBackground","id","windows","updateListener","updates","startsWith","stopListening","removeListener","onUpdated","onRemoved","headersListener","redirectUrl","webRequest","onBeforeRedirect","urls","emulateAuthFlowInNewTab","currentTabIndex","active","filename","incognito","downloads","download","history","addUrl","visits","getVisits","de","el","en","en_lolcat","en_pirate","en_CA","en_GB","es","es_419","he","it","nl_NL","pl","pt","pt_BR","pt_PT","redditLocaleToTransifexLocale","redditLocale","normalized","inx","slice","toUpperCase","getLocaleDictionary","localeName","transifexLocale","mergedLocales","locales","x","locale","lastRedditLocale","navigator","language","v","activeMigration","_","timeoutId","addTimeout","onTabChange","discarded","release","onTabRemove","name","crossContext","CONTEXT_KEY","redditTabs","query","nonSelfTabsInSameContext","filter","all","map","pageAction","onClicked","operation","state","show","setIcon","cssOnSmall","cssOffSmall","cssOn","cssOff","setTitle","title","hide","handleMessage","permissions","origins","contains","request","catch","makePromptWindow","location","origin","JSON","stringify","width","height","left","floor","screen","top","parse","session","delete","clear","range","i","zip","iterables","generators","Symbol","iterator","gen","next","some","r","done","waitFor","interval","repeat","val","forEachChunked","frameTime","queues","run","frameThrottle","slotEnd","performance","generator","return","collection","batch","size","delay","batchAccumulator","promises","addPromise","timeout","startNewBatch","entry","lastPromise","currentBatch","always","promise","fastAsync","throwing","throw","err","Reflect","asyncFlow","firstFn","fns","accum","reifyPromise","keyedMutex","keyResolver","tail","mutex","queue","throttle","race","res","requestAnimationFrame","trigger","frameDebounce","remaining","update","queued","runCallback","a","document","hidden","frameThrottleQueuePositionReset","idleThrottle","requestIdleCallback","oldValue","newValue","storedValue","storage","local","focusIndex","cookieStoreId","forEach","openerTabId","LRUCache","capacity","maxAge","Infinity","createTime","hitTime","sort","b","cache"],"mappings":"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","file":"background.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 88);\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","module.exports = __webpack_public_path__ + \"css-off.png\";","module.exports = __webpack_public_path__ + \"css-off-small.png\";","module.exports = __webpack_public_path__ + \"css-on.png\";","module.exports = __webpack_public_path__ + \"css-on-small.png\";","var baseRest = require('./_baseRest'),\n    pullAll = require('./pullAll');\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nmodule.exports = pull;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nmodule.exports = curryRight;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tfunction sendMessage(type, data, context) {\n\t\treturn _sendMessage({ type, data }, context).then(({ data, error }) => {\n\t\t\tif (error) {\n\t\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t\t} else {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.tabs.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler((obj, tabId) => _sendMessage(tabId, obj), true);\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse, sender.tab));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport { addListener } from './messaging';\n\naddListener('ajax', async ({ method, url, headers, data, credentials }) => {\n\tconst rawResponse = await fetch(url, {\n\t\tmethod,\n\t\theaders,\n\t\tcredentials,\n\t\tbody: data,\n\t});\n\n\treturn {\n\t\tok: rawResponse.ok,\n\t\tstatus: rawResponse.status,\n\t\theaders: _.fromPairs(Array.from(rawResponse.headers.entries())),\n\t\ttext: await rawResponse.text(),\n\t};\n});\n","/* @flow */\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('authFlow', ({ domain, clientId, scope, interactive }, { index: currentIndex }) => {\n\tconst redirectUri = 'https://redditenhancementsuite.com/oauth';\n\tconst url = new URL(domain);\n\turl.searchParams.set('client_id', clientId);\n\turl.searchParams.set('scope', scope);\n\turl.searchParams.set('response_type', 'token');\n\turl.searchParams.set('redirect_uri', redirectUri);\n\n\tif (process.env.BUILD_TARGET === 'chrome') {\n\t\t// Chrome supports chrome.identity.launchAuthFlow.\n\t\t// However--and quite inexplicably--the auth process is performed in a separate context whose cookies\n\t\t// are cleared whenever the browser is restarted, making noninteractive auth pretty much useless.\n\t\t// Instead, fully emulate the flow in the main context, where users will remain logged in when\n\t\t// they expect to be, i.e., as long as they're logged into the main site.\n\t\t// As a bonus, we can use redditenhancementsuite.com as the redirect instead of chromiumapp.org.\n\t\tif (interactive) {\n\t\t\treturn emulateAuthFlowInNewWindow(url.href, redirectUri);\n\t\t} else {\n\t\t\treturn emulateAuthFlowInBackground(url.href);\n\t\t}\n\t} else if (process.env.BUILD_TARGET === 'firefox') {\n\t\t// Firefox correctly supports chrome.identity.launchAuthFlow.\n\t\treturn apiToPromise(chrome.identity.launchWebAuthFlow)({ url: url.href, interactive });\n\t} else if (process.env.BUILD_TARGET === 'edge') {\n\t\t// Edge does not support chrome.identity.launchAuthFlow.\n\t\t// Its chrome.webRequest API does not support requests made by extensions,\n\t\t// so we can't emulate noninteractive auth without a new tab.\n\t\tif (interactive) {\n\t\t\treturn emulateAuthFlowInNewWindow(url.href, redirectUri);\n\t\t} else {\n\t\t\treturn emulateAuthFlowInNewTab(url.href, redirectUri, currentIndex);\n\t\t}\n\t}\n});\n\nasync function emulateAuthFlowInNewWindow(url: string, redirectUri: string): Promise<string> {\n\t// Emulate interactive auth.\n\t// Open a popup window, then track its progress with chrome.tabs,\n\t// succeeding if it navigates to our redirect URL, and failing if it's\n\t// closed before then.\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url, type: 'popup' });\n\n\treturn new Promise((resolve, reject) => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tif (updates.url && updates.url.startsWith(redirectUri)) {\n\t\t\t\tstopListening();\n\t\t\t\tresolve(updates.url);\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\treject(new Error('User cancelled or denied access.'));\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n\nfunction emulateAuthFlowInBackground(url: string): Promise<string> {\n\t// Emulate noninteractive auth.\n\t// Fetch the auth page. If the user is preauthorized, we will 302\n\t// to the redirect URL. However, because the token is passed in the hash,\n\t// and fetch/XHR responses don't include the hash, we must use the\n\t// webRequest API to read the redirect URL.\n\treturn new Promise((resolve, reject) => {\n\t\tfunction headersListener({ redirectUrl }) {\n\t\t\tstopListening();\n\t\t\tresolve(redirectUrl);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.webRequest.onBeforeRedirect.removeListener(headersListener);\n\t\t}\n\n\t\tchrome.webRequest.onBeforeRedirect.addListener(headersListener, { urls: [url] });\n\n\t\tfetch(url, { credentials: 'include' })\n\t\t\t.then(() => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error('User interaction is required.'));\n\t\t\t}, e => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error(`Authorization page could not be loaded: ${e.message}`));\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t});\n}\n\nasync function emulateAuthFlowInNewTab(url: string, redirectUri: string, currentTabIndex: number): Promise<string> {\n\t// Emulate noninteractive auth.\n\t// Open a background tab and track its progress with chrome.tabs,\n\t// succeeding if it navigates to the redirect URL immediately.\n\tconst { id } = await apiToPromise(chrome.tabs.create)({ url, index: currentTabIndex + 1, active: false });\n\n\treturn new Promise((resolve, reject) => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tif (updates.url && updates.url.startsWith(redirectUri)) {\n\t\t\t\tstopListening();\n\t\t\t\tresolve(updates.url);\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t} else if (updates.status && updates.status === 'complete') {\n\t\t\t\t// the page has loaded but we haven't redirected\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error('User interaction is required.'));\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\treject(new Error('User cancelled or denied access.'));\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('download', ({ url, filename }, { incognito }) => {\n\tif (process.env.BUILD_TARGET === 'chrome') {\n\t\tchrome.downloads.download({ url, filename });\n\t} else if (process.env.BUILD_TARGET === 'firefox') {\n\t\tchrome.downloads.download({ url, filename, incognito });\n\t} else if (process.env.BUILD_TARGET === 'edge') {\n\t\t// Edge doesn't have downloads.*\n\t}\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('addURLToHistory', url => {\n\tif (process.env.BUILD_TARGET === 'chrome' || process.env.BUILD_TARGET === 'firefox') {\n\t\tchrome.history.addUrl({ url });\n\t} else if (process.env.BUILD_TARGET === 'edge') {\n\t\t// Edge doesn't have history.*\n\t}\n});\n\naddListener('isURLVisited', async url => {\n\tif (process.env.BUILD_TARGET === 'chrome' || process.env.BUILD_TARGET === 'firefox') {\n\t\tconst visits = await apiToPromise(chrome.history.getVisits)({ url });\n\t\treturn visits.length > 0;\n\t} else if (process.env.BUILD_TARGET === 'edge') {\n\t\t// Edge doesn't have history.*\n\t\treturn false;\n\t}\n});\n","/* @flow */\n/* eslint-disable camelcase */\n\nimport de from './de';\nimport el from './el';\nimport en from './en';\nimport en_lolcat from './en@lolcat';\nimport en_pirate from './en@pirate';\nimport en_CA from './en_CA';\nimport en_GB from './en_GB';\nimport es from './es';\nimport es_419 from './es_419';\nimport he from './he';\nimport it from './it';\nimport nl_NL from './nl_NL';\nimport pl from './pl';\nimport pt from './pt';\nimport pt_BR from './pt_BR';\nimport pt_PT from './pt_PT';\n\nexport default {\n\tde,\n\tel,\n\ten,\n\ten_lolcat,\n\ten_pirate,\n\ten_CA,\n\ten_GB,\n\tes,\n\tes_419,\n\the,\n\tit,\n\tnl_NL,\n\tpl,\n\tpt,\n\tpt_BR,\n\tpt_PT,\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport locales from './locales';\n\n// `en-ca` -> `en_CA`\nfunction redditLocaleToTransifexLocale(redditLocale) {\n\tswitch (redditLocale) {\n\t\tcase 'leet':\n\t\t\treturn 'en'; // doesn't appear to exist\n\t\tcase 'lol':\n\t\t\treturn 'en_lolcat';\n\t\tcase 'pir':\n\t\t\treturn 'en_pirate';\n\t\tcase 'es-ar': // argentina\n\t\tcase 'es-cl': // chile\n\t\t\treturn 'es_419'; // latin america\n\t\tdefault: {\n\t\t\t// `es-ar` -> `es_ar`\n\t\t\tconst normalized = redditLocale.replace('-', '_');\n\t\t\tconst inx = normalized.indexOf('_');\n\t\t\tif (inx === -1) {\n\t\t\t\t// `zh` -> `zh`\n\t\t\t\treturn normalized;\n\t\t\t} else {\n\t\t\t\t// `en_au` -> `en_AU`\n\t\t\t\treturn `${normalized.slice(0, inx)}_${normalized.slice(inx + 1).toUpperCase()}`;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getLocaleDictionary(localeName: string): { [string]: string } {\n\tconst transifexLocale = redditLocaleToTransifexLocale(localeName);\n\n\tconst mergedLocales = {\n\t\t// 3. Default (en)\n\t\t...locales.en,\n\t\t// 2. Match without region (en_CA -> en)\n\t\t...locales[transifexLocale.slice(0, transifexLocale.indexOf('_'))],\n\t\t// 1. Exact match (en_CA -> en_CA)\n\t\t...locales[transifexLocale],\n\t};\n\n\treturn _.mapValues(mergedLocales, x => x.message);\n}\n","/* @flow */\n\nimport { getLocaleDictionary } from '../../../locales';\nimport { addListener } from './messaging';\n\naddListener('i18n', locale => getLocaleDictionary(locale));\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nlet lastRedditLocale = navigator.language || 'en';\n\naddListener('getLastRedditLocale', () => lastRedditLocale);\naddListener('setLastRedditLocale', v => { lastRedditLocale = v; });\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nlet activeMigration: ?number = null;\n\n// Reserves the ability to migrate for a minute\n// Returns `true` if able to retain lock\naddListener('requestMigrateLock', (_, { id: tabId }) => {\n\tlet timeoutId = null;\n\n\tif (typeof activeMigration === 'number') {\n\t\tif (activeMigration === tabId) {\n\t\t\taddTimeout();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tfunction onTabChange(tabId, updates) {\n\t\t// Page change prevents the migration from running\n\t\tif (tabId === activeMigration && (updates.status === 'loading' || updates.url || updates.discarded)) release();\n\t}\n\n\tfunction onTabRemove(tabId) {\n\t\tif (tabId === activeMigration) release();\n\t}\n\n\tfunction release() {\n\t\tif (timeoutId) clearTimeout(timeoutId);\n\t\tchrome.tabs.onUpdated.removeListener(onTabChange);\n\t\tchrome.tabs.onRemoved.removeListener(onTabRemove);\n\t\tif (activeMigration === tabId) activeMigration = null;\n\t}\n\n\tfunction addTimeout() {\n\t\tif (timeoutId) clearTimeout(timeoutId);\n\t\ttimeoutId = setTimeout(release, 1 * 60 * 1000);\n\t}\n\n\tchrome.tabs.onUpdated.addListener(onTabChange);\n\tchrome.tabs.onRemoved.addListener(onTabRemove);\n\taddTimeout();\n\n\tactiveMigration = tabId;\n\treturn true;\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener, sendMessage } from './messaging';\n\naddListener('multicast', async ({ name, args, crossContext }, sender) => {\n\t// Firefox has more than just (non)incognito, so we must limit to each cookieStoreId.\n\tconst CONTEXT_KEY = process.env.BUILD_TARGET === 'firefox' ? 'cookieStoreId' : 'incognito';\n\n\tconst redditTabs = await apiToPromise(chrome.tabs.query)({ url: 'https://*.reddit.com/*', status: 'complete' });\n\tconst nonSelfTabsInSameContext = redditTabs\n\t\t.filter(tab => (\n\t\t\ttab.id !== sender.id &&\n\t\t\t(crossContext || tab[CONTEXT_KEY] === sender[CONTEXT_KEY])\n\t\t));\n\n\treturn Promise.all(nonSelfTabsInSameContext.map(({ id: tabId }) => sendMessage('multicast', { name, args }, tabId)));\n});\n","/* @flow */\n\nimport cssOff from '../../../images/css-off.png';\nimport cssOffSmall from '../../../images/css-off-small.png';\nimport cssOn from '../../../images/css-on.png';\nimport cssOnSmall from '../../../images/css-on-small.png';\nimport { addListener, sendMessage } from './messaging';\n\nchrome.pageAction.onClicked.addListener(({ id: tabId }) => {\n\tsendMessage('pageActionClick', undefined, tabId);\n});\n\naddListener('pageAction', ({ operation, state }, { id: tabId }) => {\n\tswitch (operation) {\n\t\tcase 'show':\n\t\t\tchrome.pageAction.show(tabId);\n\t\t\tchrome.pageAction.setIcon({\n\t\t\t\ttabId,\n\t\t\t\tpath: { /* eslint-disable quote-props */\n\t\t\t\t\t'19': state ? cssOnSmall : cssOffSmall,\n\t\t\t\t\t'38': state ? cssOn : cssOff,\n\t\t\t\t},\n\t\t\t});\n\t\t\tchrome.pageAction.setTitle({\n\t\t\t\ttabId,\n\t\t\t\ttitle: state ? 'Subreddit Style On' : 'Subreddit Style Off',\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'hide':\n\t\t\tchrome.pageAction.hide(tabId);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid pageAction operation: ${operation}`);\n\t}\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('permissions', handleMessage);\n\nexport function handleMessage({ operation, permissions, origins }: *) {\n\tif (process.env.BUILD_TARGET === 'chrome' || process.env.BUILD_TARGET === 'firefox') {\n\t\tswitch (operation) {\n\t\t\tcase 'contains':\n\t\t\t\treturn apiToPromise(chrome.permissions.contains)({ permissions, origins });\n\t\t\tcase 'request':\n\t\t\t\treturn apiToPromise(chrome.permissions.request)({ permissions, origins })\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tif (process.env.BUILD_TARGET === 'firefox') {\n\t\t\t\t\t\t\treturn makePromptWindow({ permissions, origins });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid permissions operation: ${operation}`);\n\t\t}\n\t} else if (process.env.BUILD_TARGET === 'edge') {\n\t\treturn true;\n\t}\n}\n\nasync function makePromptWindow({ permissions, origins }) {\n\tconst url = new URL('prompt.html', location.origin);\n\turl.searchParams.set('permissions', JSON.stringify(permissions));\n\turl.searchParams.set('origins', JSON.stringify(origins));\n\n\tconst width = 630;\n\tconst height = 255;\n\t// Display popup on middle of screen\n\tconst left = Math.floor(screen.width / 2 - width / 2);\n\tconst top = Math.floor(screen.height / 2 - height / 2);\n\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url: url.href, type: 'popup', width, height, left, top });\n\n\treturn new Promise(resolve => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tconst url = updates.url && new URL(updates.url);\n\t\t\tif (url && url.searchParams.has('result')) {\n\t\t\t\tstopListening();\n\t\t\t\tconst result = url.searchParams.get('result');\n\t\t\t\tif (!result) return;\n\t\t\t\tresolve(JSON.parse(result));\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\tresolve(false);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nconst session = new Map();\naddListener('session', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'get':\n\t\t\treturn session.get(key);\n\t\tcase 'set':\n\t\t\tsession.set(key, value);\n\t\t\tbreak;\n\t\tcase 'delete':\n\t\t\treturn session.delete(key);\n\t\tcase 'has':\n\t\t\treturn session.has(key);\n\t\tcase 'clear':\n\t\t\treturn session.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid session operation: ${operation}`);\n\t}\n});\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 15;\n\tconst frameTime = 1000 / framerate;\n\tconst minSlot = frameTime / 2; // In case there's much else going on, don't compromise this too much\n\n\tconst queues = [];\n\n\tconst run = frameThrottle((start: number) => {\n\t\tconst slotEnd = Math.max(start + frameTime, performance.now() + minSlot);\n\t\tdo {\n\t\t\t_.remove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() < slotEnd);\n\t\trun();\n\t});\n\n\treturn _.curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t})\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50 }: {| size?: number, delay?: number |} = {}): (x: T) => Promise<V> {\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tconst timeout = _.debounce(async () => {\n\t\t\tstartNewBatch();\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}, delay);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\ttimeout.flush();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true)\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n/* eslint-enable no-duplicates */\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the event queue is empty, or on the next animation frame\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: *) {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.race([\n\t\t\tnew Promise(res => { requestAnimationFrame(() => res('animationFrame')); }),\n\t\t\tnew Promise(res => { setTimeout(() => res('timeout')); }),\n\t\t]).then((trigger: 'animationFrame' | 'timeout') => {\n\t\t\tpromise = null;\n\t\t\treturn callback(trigger);\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: *, debounce: number = 1) {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(update);\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(update);\n\t};\n}\n\n/* eslint-disable no-redeclare */\n// rest params can't be placed before non-rest params, so this is unfortunately necessary\n// add another case if you need more params\ndeclare function frameThrottle(callback: (start: number) => void): () => void;\ndeclare function frameThrottle<A>(callback: (a: A, start: number) => void): (a: A) => void;\ndeclare function frameThrottle<A, B>(callback: (a: A, b: B, start: number) => void): (a: A, b: B) => void;\ndeclare function frameThrottle<A, B, C>(callback: (a: A, b: B, c: C, start: number) => void): (a: A, b: B, c: C) => void;\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n * @param {function(...*, number): void} callback Last param is the start time of the current frame.\n * @returns {function(...*): void}\n */\nexport function frameThrottle(callback) {\n\tlet args = [];\n\tlet queued = false;\n\n\tfunction runCallback(start) {\n\t\tqueued = false;\n\t\tcallback(...args, start);\n\t}\n\n\treturn (...a) => {\n\t\targs = a;\n\n\t\tif (queued) return;\n\t\tqueued = true;\n\n\t\tif (document.hidden) setTimeout(() => { runCallback(performance.now()); });\n\t\telse requestAnimationFrame(runCallback);\n\t};\n}\n/* eslint-enable no-redeclare */\n\n/*\n * Similar to frameThrottle, but has a separate queue.\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n * regardless of its current position.\n */\nexport const frameThrottleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\t_.pull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n *\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n * @param {function(...*): void} callback\n * @returns {function(...*): void}\n */\nexport function idleThrottle<Fn:(...args: any) => Promise<void> | void>(callback: Fn): Fn {\n\tlet args = [];\n\tlet queued = false;\n\n\tfunction runCallback() {\n\t\tqueued = false;\n\t\tcallback(...args);\n\t}\n\n\treturn ((...a) => {\n\t\targs = a;\n\n\t\tif (queued) return;\n\t\tqueued = true;\n\n\t\trequestIdleCallback(runCallback);\n\t}: any);\n}\n","/* @flow */\n\nimport { keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('storage-cas', keyedMutex(async ([key, oldValue, newValue]) => {\n\tconst storedValue = (await apiToPromise(chrome.storage.local.get)(key))[key];\n\tif (storedValue !== oldValue) return false;\n\tawait apiToPromise(chrome.storage.local.set)({ [key]: newValue });\n\treturn true;\n}, ([key]) => key));\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('openNewTabs', ({ urls, focusIndex }, { id: tabId, index: currentIndex, cookieStoreId }) => {\n\tif (process.env.BUILD_TARGET === 'chrome') {\n\t\turls.forEach((url, i) => {\n\t\t\tchrome.tabs.create({\n\t\t\t\turl,\n\t\t\t\tactive: i === focusIndex,\n\t\t\t\tindex: ++currentIndex,\n\t\t\t\topenerTabId: tabId,\n\t\t\t});\n\t\t});\n\t} else if (process.env.BUILD_TARGET === 'firefox') {\n\t\t// Firefox needs cookieStoreId to open in correct container\n\t\turls.forEach((url, i) => {\n\t\t\tchrome.tabs.create({\n\t\t\t\turl,\n\t\t\t\tactive: i === focusIndex,\n\t\t\t\topenerTabId: tabId,\n\t\t\t\tcookieStoreId,\n\t\t\t});\n\t\t});\n\t} else if (process.env.BUILD_TARGET === 'edge') {\n\t\t// Edge doesn't support openerTabId\n\t\turls.forEach((url, i) => {\n\t\t\tchrome.tabs.create({\n\t\t\t\turl,\n\t\t\t\tactive: i === focusIndex,\n\t\t\t\tindex: ++currentIndex,\n\t\t\t});\n\t\t});\n\t}\n});\n\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\n\nimport { LRUCache } from '../../utils/Cache';\nimport { addListener } from './messaging';\n\nconst cache = new LRUCache(512);\naddListener('XHRCache', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'set':\n\t\t\tcache.set(key, value);\n\t\t\tbreak;\n\t\tcase 'check':\n\t\t\treturn cache.get(key, value);\n\t\tcase 'delete':\n\t\t\treturn cache.delete(key);\n\t\tcase 'clear':\n\t\t\treturn cache.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid XHRCache operation: ${operation}`);\n\t}\n});\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/download.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/history.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/i18n.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/localePersistor.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/messaging.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/migration.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/multicast.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/pageAction.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/permissions.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/session.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/storage.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/tabs.js\";\nimport * as _14 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"download.js\": _2, \"history.js\": _3, \"i18n.js\": _4, \"localePersistor.js\": _5, \"messaging.js\": _6, \"migration.js\": _7, \"multicast.js\": _8, \"pageAction.js\": _9, \"permissions.js\": _10, \"session.js\": _11, \"storage.js\": _12, \"tabs.js\": _13, \"xhrCache.js\": _14 };"],"sourceRoot":""}